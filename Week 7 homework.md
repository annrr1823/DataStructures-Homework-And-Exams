# Week7 homework

[TOC]

## Â∫èÂàóÂª∂Áî≥‰∏éÂêéÁºÄÊü•ËØ¢

> ### È¢òÁõÆÊèèËø∞
>
> Êúâ‰∏Ä‰∏™ÂàùÂßã‰∏∫Á©∫ÁöÑÂ∫èÂàó A*A*ÔºåÂú®È¢òÁõÆÊèèËø∞‰∏≠ÔºåÊàë‰ª¨Áî® ai*a**i* Ë°®Á§∫ A*A* ‰∏≠ÁöÑÁ¨¨ i*i* ‰∏™Êï∞Â≠ó„ÄÇ
>
> ‰Ω†ÈúÄË¶ÅÊîØÊåÅ‰ª•‰∏ã‰∏§ÁßçÊìç‰ΩúÔºö
>
> 1. Âª∂Áî≥ÔºöÂú®Â∫èÂàó A*A* ÁöÑÂ∞æÈÉ®Ê∑ªÂä†‰∏Ä‰∏™Êï∞ x*x*ÔºàÂΩ¢ÂºèÂåñÊù•ËØ¥ÔºåÂÅáËÆæÂΩìÂâç A*A* ‰∏≠Êúâ m*m* ‰∏™Êï∞ÔºåÊ∑ªÂä†‰πãÂêéÂàôÊúâ m+1*m*+1 ‰∏™Êï∞Ôºå‰∏î am+1=x*a**m*+1=*x*Ôºâ„ÄÇ
> 2. Êü•ËØ¢ÔºöËØ¢ÈóÆÂΩìÂâçÂ∫èÂàó A*A* ÊúÄÂêéÁöÑ k*k* ‰∏™Êï∞‰∏≠ÔºåÊúÄÂ§ßÁöÑÊï∞ÊòØÂ§öÂ∞ëÔºàÂΩ¢ÂºèÂåñÊù•ËØ¥ÔºåÂÅáËÆæÂΩìÂâç A*A* ‰∏≠Êúâ m*m* ‰∏™Êï∞ÔºåÂç≥ËØ¢ÈóÆ max{ai‚à£m‚àík+1‚â§i‚â§m}max{*a**i**m*‚àí*k*+1‚â§*i*‚â§*m*} ÁöÑÂÄºÔºâ „ÄÇ
>
> ‰∏∫‰∫ÜÂº∫Âà∂‰Ω†Âú®Á∫øÂ§ÑÁêÜËØ¢ÈóÆÔºåËæìÂÖ•Êï∞ÊçÆËøõË°å‰∫ÜÂä†ÂØÜÔºå‰Ω†ÈúÄË¶ÅÁª¥Êä§‰∏Ä‰∏™ÂÄºÂè´ lastans*l**a**s**t**an**s* Ôºà**ÂàùÂßãÂÄº‰∏∫ 00**ÔºâÔºåË°®Á§∫‰∏ä‰∏ÄÊ¨°ËØ¢ÈóÆÊìç‰ΩúÁöÑÁ≠îÊ°àÔºåÂπ∂‰∏îÈúÄË¶Å‰ΩøÁî® lastans*l**a**s**t**an**s* Êù•Ëß£ÂØÜÂá∫ÁúüÊ≠£ÁöÑÊìç‰ΩúÂÜÖÂÆπ„ÄÇÂÖ∑‰ΩìÁªÜËäÇÂèØ‰ª•Êü•ÁúãËæìÂÖ•Ê†ºÂºè„ÄÇ
>
> ### ËæìÂÖ•Ê†ºÂºè
>
> Á¨¨‰∏ÄË°åÔºå‰∏Ä‰∏™Êï¥Êï∞ n*n* ÔºåË°®Á§∫Êìç‰ΩúÁöÑÊ¨°Êï∞„ÄÇ
>
> Êé•‰∏ãÊù• n*n* Ë°åÔºåÊØèË°åËæìÂÖ•‰∏§‰∏™Âä†ÂØÜÂêéÁöÑÊï¥Êï∞ a,b*a*,*b* „ÄÇ
>
> ‰Ω†ÈúÄË¶ÅÁî® lastans*l**a**s**t**an**s* Ëß£ÂØÜÂæóÂà∞ op,v*o**p*,*v* ÔºåËßÑÂàô‰∏∫Ôºö
>
> - op=lastans‚äïa*o**p*=*l**a**s**t**an**s*‚äï*a*
> - v=lastans‚äïb*v*=*l**a**s**t**an**s*‚äï*b*
>
> ÔºàÂÖ∂‰∏≠ ‚äï‚äï Ë°®Á§∫Êåâ‰ΩçÂºÇÊàñËøêÁÆóÔºåÂç≥ C++ ÁöÑ `^` ËøêÁÆóÁ¨¶Ôºâ
>
> Â¶ÇÊûú op=1*o**p*=1 ÔºåÈÇ£‰πàÊâßË°åÂª∂Áî≥Êìç‰ΩúÔºåÂú®Â∫èÂàó A*A* Â∞æÈÉ®Ê∑ªÂä†‰∏Ä‰∏™ v*v* „ÄÇ
>
> Â¶ÇÊûú op=2*o**p*=2 ÔºåÈÇ£‰πàÊâßË°åÊü•ËØ¢Êìç‰ΩúÔºåËØ¢ÈóÆÂ∫èÂàó A*A* ÊúÄÂêéÁöÑ v*v* ‰∏™Êï∞‰∏≠ÔºåÊúÄÂ§ßÁöÑÊï∞ÊòØÂ§öÂ∞ë„ÄÇÂπ∂‰∏î‰Ω†ÈúÄË¶ÅÂú®Ê±ÇËß£Âá∫Ëøô‰∏™Á≠îÊ°à‰πãÂêéÔºåÁî®Ê≠§Á≠îÊ°àÊõ¥Êñ∞ lastans*l**a**s**t**an**s* Ôºå‰ª•Á°Æ‰øù‰πãÂêéÁöÑÊìç‰ΩúËÉΩÂ§üÊ≠£Á°ÆËß£ÂØÜ„ÄÇ
>
> ËæìÂÖ•‰øùËØÅÁ¨¨‰∏Ä‰∏™Êìç‰Ωú‰∏ÄÂÆöÊòØÂª∂Áî≥Êìç‰ΩúÔºå‰∏î op=2*o**p*=2 Êó∂Ôºåv*v* ‰∏ç‰ºöË∂ÖËøáÊ≠§Êó∂Â∫èÂàó A*A* ÁöÑÈïøÂ∫¶„ÄÇ
>
> ### ËæìÂá∫Ê†ºÂºè
>
> ‰∏∫‰∫ÜÂáèÂ∞ëËæìÂá∫Êñá‰ª∂ÁöÑÂ§ßÂ∞èÔºå‰Ω†Âπ∂‰∏çÈúÄË¶ÅÊåâÈ°∫Â∫èËæìÂá∫ÊâÄÊúâËØ¢ÈóÆÁöÑÁ≠îÊ°àÔºå‰Ω†Âè™ÈúÄË¶ÅËæìÂá∫‰∏Ä‰∏™ÂÄºÔºåË°®Á§∫ÊâÄÊúâËØ¢ÈóÆÁöÑÁ≠îÊ°àÁöÑÂíåÂç≥ÂèØÔºàËØ∑Ê≥®ÊÑèÊï∞ÊçÆËåÉÂõ¥Â§ßÂ∞èÔºâ„ÄÇ
>
> ### Ê†∑‰æã #1
>
> #### Ê†∑‰æãËæìÂÖ• #1
>
> ```none
> 6
> 1 2
> 1 3
> 1 1
> 2 3
> 1 2
> 3 3
> ```
>
> [Copy](javascript:;)
>
> #### Ê†∑‰æãËæìÂá∫ #1
>
> ```none
> 7
> ```
>
> [Copy](javascript:;)
>
> ### Êï∞ÊçÆËåÉÂõ¥‰∏éÊèêÁ§∫
>
> „ÄêÊ†∑‰æãËß£Èáä„Äë
>
> È¶ñÂÖàËøõË°å‰∫Ü3Ê¨°Âª∂Áî≥Êìç‰ΩúÔºå‰ΩøÂæóÂ∫èÂàó A={2,3,1}*A*={2,3,1} ÔºåÁÑ∂ÂêéÁ¨¨ÂõõÊ¨°Êìç‰ΩúËØ¢ÈóÆ‰∫ÜÂêé3‰∏™Êï∞‰∏≠ÁöÑÊúÄÂ§ßÂÄºÔºåÁ≠îÊ°àÂ∫îÂΩì‰∏∫ 33 Ôºå‰∫éÊòØÁ¨¨‰∫îÊ¨°Êìç‰ΩúËß£ÂØÜÂêéÊòØËØ¢ÈóÆÂêé1‰∏™Êï∞‰∏≠ÁöÑÊúÄÂ§ßÂÄºÔºåÁ≠îÊ°à‰∏∫ 11 ÔºåÁÑ∂ÂêéÁ¨¨ÂÖ≠Ê¨°Êìç‰ΩúËß£ÂØÜÂêéÊòØËØ¢ÈóÆÂêé2‰∏™Êï∞‰∏≠ÁöÑÊúÄÂ§ßÂÄºÔºåÁ≠îÊ°àÂ∫îÂΩì‰∏∫ 33 ÔºåÊâÄ‰ª•ÊúÄÂêéËæìÂá∫ 3+1+3=73+1+3=7 .
>
> „ÄêÊï∞ÊçÆËåÉÂõ¥„Äë
>
> ÂØπ‰∫é 100% ÁöÑÊµãËØïÊï∞ÊçÆÊª°Ë∂≥ n‚â§106,1‚â§op‚â§2,1‚â§v‚â§109*n*‚â§106,1‚â§*o**p*‚â§2,1‚â§*v*‚â§109 .
>
> ËæìÂÖ•‰øùËØÅÁ¨¨‰∏Ä‰∏™Êìç‰Ωú‰∏ÄÂÆöÊòØÂª∂Áî≥Êìç‰ΩúÔºå‰∏î op=2*o**p*=2 Êó∂Ôºåv*v* ‰∏ç‰ºöË∂ÖËøáÊ≠§Êó∂Â∫èÂàó A*A* ÁöÑÈïøÂ∫¶„ÄÇ
>
> ËØ∑Ê≥®ÊÑèËØªÂÖ•Êï∞ÊçÆÁöÑÊïàÁéá„ÄÇ

```c++
#include <bits/stdc++.h>
using namespace std;

bool cmp(const pair<int,int>& a,const pair<int,int>& b)
{
    return a.second < b.second;
}

int main() {
    ios::sync_with_stdio(false);
    cin.tie(NULL);
    int n;
    cin >> n;

    long long sum = 0;
    int lastans = 0; 
    int m = 0;       
    deque<pair<int, int>> decrease; 
    for (int i = 0; i < n; ++i) {
        int a, b;
        cin >> a >> b;
        int op = lastans ^ a; 
        int v = lastans ^ b; 

        if (op == 1) {
            m++;
            while (!decrease.empty() && decrease.back().first < v) {
                decrease.pop_back();
            }
            decrease.push_back({v, m});
        } else if (op == 2) {
            int idx = m - v + 1; 
            auto it = lower_bound(decrease.begin(), decrease.end(), make_pair(0, idx),cmp);
            lastans = it->first; 
            sum += lastans;       
        }
    }
    cout << sum ;
    return 0;
}

```



## ÈÄÜÂ∫èÂØπ

> # Description
>
> ZZR Êúâ‰∏Ä‰∏™Â∫èÂàó a1,a2,‚ãØ‚Äâ,an*a*1,*a*2,‚ãØ,*a**n*Ôºå‰ªñÂÖÅËÆ∏ÊúÄÂ§öËøõË°å k*k* Ê¨°Êìç‰ΩúÔºåÊØèÊ¨°Êìç‰Ωú‰∫§Êç¢‰∏§‰∏™Áõ∏ÈÇªÂÖÉÁ¥†„ÄÇ
>
> Ê±ÇÁªèËøáÂèòÊç¢ÂêéÁöÑÂ∫èÂàó‰∏≠ÊúÄÂ∞ëËøòÊúâÂ§öÂ∞ëÈÄÜÂ∫èÂØπ„ÄÇ
>
> ÈÄÜÂ∫èÂØπÊåáÁöÑÊòØ‰∫åÂÖÉÁªÑ (i,j)(*i*,*j*)ÔºåÂÖ∂Êª°Ë∂≥ i<j*i*<*j* ‰∏î ai>aj*a**i*>*a**j*„ÄÇ
>
> # Format
>
> ## Input
>
> Á¨¨‰∏ÄË°åÂåÖÂê´‰∏§‰∏™Êï∞ n,k*n*,*k*ÔºåË°®Á§∫Â∫èÂàóÈïøÂ∫¶Âíå‰∫§Êç¢‰∏§‰∏™Áõ∏ÈÇªÂÖÉÁ¥†ÁöÑÊ¨°Êï∞‰∏äÈôê„ÄÇ
>
> Á¨¨‰∫åË°åÊúâ n*n* ‰∏™Êï∞ÔºåË°®Á§∫Â∫èÂàó a1,a2,‚ãØ‚Äâ,an*a*1,*a*2,‚ãØ,*a**n*„ÄÇ
>
> ## Output
>
> ‰∏Ä‰∏™Êï∞Ë°®Á§∫ÊúÄÂ∞ëÁöÑÈÄÜÂ∫èÂØπÁöÑÊï∞Èáè„ÄÇ
>
> # Samples
>
> #### ËæìÂÖ•Ê†∑‰æã 1
>
> ```none
> 3 1
> 2 2 1
> ```
>
> [Copy](javascript:;)
>
> #### ËæìÂá∫Ê†∑‰æã 1
>
> ```none
> 1
> ```
>
> [Copy](javascript:;)
>
> #### ËæìÂÖ•Ê†∑‰æã 2
>
> ```none
> 3 0
> 2 2 1
> ```
>
> [Copy](javascript:;)
>
> #### ËæìÂá∫Ê†∑‰æã 2
>
> ```none
> 2
> ```
>
> [Copy](javascript:;)
>
> # Limitation
>
> 1‚â§n‚â§1051‚â§*n*‚â§105Ôºå0‚â§k‚â§1090‚â§*k*‚â§109Ôºå1‚â§ai‚â§1091‚â§*a**i*‚â§109„ÄÇ

```c++
#include<bits/stdc++.h>
using namespace std;
#define N 1000005
int a[N] ,b[N];//b‰∏∫ËæÖÂä©Êï∞ÁªÑ
long long cnt;
void merge_sort(int l , int r)
{
    if(r>l)
    {
        int mid = (l+r) / 2 ;
        merge_sort(l , mid);
        merge_sort(mid+1 , r);
 
        int i = l;
        int p = l , q = mid+1; 
        while(p<=mid || q<=r)
        {
            if(q>r || (p<=mid && a[p]<=a[q]))
                b[i++] = a[p++];
            else
            {
                b[i++] = a[q++];
                cnt += mid -p + 1;
            }
        }
        
        for(i = l ; i <= r; i++)
            a[i] = b[i];
    }
}
int main()
{
    int n,k;
    cin>>n>>k;
    for(int i = 1 ; i <= n; i ++)cin >> a[i];
    cnt = 0;
        
    merge_sort(1 , n);
        if(cnt-k<0)cout<<0<<endl;
        else cout << cnt - k <<endl;
    
    return 0;
}
```



## ‰πí‰πìÁêÉÊØîËµõ

> # Description
>
> Y ËÄÅÂ∏à‰∏æÂäû‰∫ÜÂ≠¶Ê†°ÁöÑ‰πí‰πìÁêÉËµõÔºå‰∏∫‰∫ÜÂÖºÈ°æËµõÁ®ãÂíåÂÖ¨Âπ≥ÔºåÂ•πÂÜ≥ÂÆöÈááÁî®ÁëûÂ£´ËΩÆËµõÂà∂„ÄÇ
>
> ÁëûÂ£´ËΩÆËµõÂà∂Â¶Ç‰∏ãÔºö2√ón2√ó*n* ÂêçÁºñÂè∑‰∏∫ 1‚àº2n1‚àº2*n* ÁöÑÈÄâÊâãÂÖ±ËøõË°å r*r* ËΩÆÊØîËµõ„ÄÇÊØèËΩÆÊØîËµõÂºÄÂßãÂâçÔºå‰ª•ÂèäÊâÄÊúâÊØîËµõÁªìÊùüÂêéÔºåÈÉΩ‰ºöÊåâÁÖßÊÄªÂàÜ‰ªéÈ´òÂà∞‰ΩéÂØπÈÄâÊâãËøõË°å‰∏ÄÊ¨°ÊéíÂêç„ÄÇÈÄâÊâãÁöÑÊÄªÂàÜ‰∏∫Á¨¨‰∏ÄËΩÆÂºÄÂßãÂâçÁöÑÂàùÂßãÂàÜÊï∞Âä†‰∏äÂ∑≤ÂèÇÂä†ËøáÁöÑÊâÄÊúâÊØîËµõÁöÑÂæóÂàÜÂíå„ÄÇÊÄªÂàÜÁõ∏ÂêåÁöÑÔºåÁ∫¶ÂÆöÁºñÂè∑ËæÉÂ∞èÁöÑÈÄâÊâãÊéíÂêçÈù†Ââç„ÄÇ
>
> ÊØèËΩÆÊØîËµõÁöÑÂØπÈòµÂÆâÊéí‰∏éËØ•ËΩÆÊØîËµõÂºÄÂßãÂâçÁöÑÊéíÂêçÊúâÂÖ≥ÔºöÁ¨¨ 11 ÂêçÂíåÁ¨¨ 22 Âêç„ÄÅÁ¨¨ 33 ÂêçÂíåÁ¨¨ 44 Âêç„ÄÅ‚ãØ‚ãØ‚ãØ‚ãØ„ÄÅÁ¨¨ 2k‚Äì12*k*‚Äì1 ÂêçÂíåÁ¨¨ 2k2*k* Âêç„ÄÅ‚ãØ‚ãØ‚ãØ‚ãØ „ÄÅÁ¨¨ 2n‚Äì12*n*‚Äì1 ÂêçÂíåÁ¨¨ 2n2*n* ÂêçÔºåÂêÑËøõË°å‰∏ÄÂú∫ÊØîËµõ„ÄÇÊØèÂú∫ÊØîËµõËÉúËÄÖÂæó 1 ÂàÜÔºåË¥üËÄÖÂæó 0 ÂàÜ„ÄÇ‰πüÂ∞±ÊòØËØ¥Èô§‰∫ÜÈ¶ñËΩÆ‰ª•Â§ñÔºåÂÖ∂ÂÆÉËΩÆÊØîËµõÁöÑÂÆâÊéíÂùá‰∏çËÉΩ‰∫ãÂÖàÁ°ÆÂÆöÔºåËÄåÊòØË¶ÅÂèñÂÜ≥‰∫éÈÄâÊâãÂú®‰πãÂâçÊØîËµõ‰∏≠ÁöÑË°®Áé∞„ÄÇ
>
> Áé∞ÁªôÂÆöÊØè‰∏™ÈÄâÊâãÁöÑÂàùÂßãÂàÜÊï∞ÂèäÂÖ∂ÂÆûÂäõÂÄºÔºåËØïËÆ°ÁÆóÂú® r*r* ËΩÆÊØîËµõËøáÂêéÔºåÊéíÂêçÁ¨¨ q*q* ÁöÑÈÄâÊâãÁºñÂè∑ÊòØÂ§öÂ∞ë„ÄÇÊàë‰ª¨ÂÅáËÆæÈÄâÊâãÁöÑÂÆûÂäõÂÄº‰∏§‰∏§‰∏çÂêåÔºå‰∏îÊØèÂú∫ÊØîËµõ‰∏≠ÂÆûÂäõÂÄºËæÉÈ´òÁöÑÊÄªËÉΩËé∑ËÉú„ÄÇ
>
> # Format
>
> ## Input
>
> ËæìÂÖ•ÁöÑÁ¨¨‰∏ÄË°åÊòØ‰∏â‰∏™Ê≠£Êï¥Êï∞ n,r,q*n*,*r*,*q*ÔºåÊØè‰∏§‰∏™Êï∞‰πãÈó¥Áî®‰∏Ä‰∏™Á©∫Ê†ºÈöîÂºÄÔºåË°®Á§∫Êúâ 2√ón2√ó*n* ÂêçÈÄâÊâã„ÄÅr*r* ËΩÆÊØîËµõÔºå‰ª•ÂèäÊàë‰ª¨ÂÖ≥ÂøÉÁöÑÂêçÊ¨° q*q*„ÄÇ
>
> Á¨¨‰∫åË°åÊòØ 2√ón2√ó*n* ‰∏™ÈùûË¥üÊï¥Êï∞ s1,s2,‚ãØ‚Äâ,s2n*s*1,*s*2,‚ãØ,*s*2*n*ÔºåÊØè‰∏§‰∏™Êï∞‰πãÈó¥Áî®‰∏Ä‰∏™Á©∫Ê†ºÈöîÂºÄÔºåÂÖ∂‰∏≠ si*s**i* Ë°®Á§∫ÁºñÂè∑‰∏∫ i*i* ÁöÑÈÄâÊâãÁöÑÂàùÂßãÂàÜÊï∞„ÄÇ
>
> Á¨¨‰∏âË°åÊòØ 2√ón2√ó*n* ‰∏™Ê≠£Êï¥Êï∞ w1,w2,‚Ä¶,w2n*w*1,*w*2,‚Ä¶,*w*2*n*ÔºåÊØè‰∏§‰∏™Êï∞‰πãÈó¥Áî®‰∏Ä‰∏™Á©∫Ê†ºÈöîÂºÄÔºåÂÖ∂‰∏≠ wi*w**i* Ë°®Á§∫ÁºñÂè∑‰∏∫ i*i* ÁöÑÈÄâÊâãÁöÑÂÆûÂäõÂÄº„ÄÇ
>
> ## Output
>
> ËæìÂá∫‰∏Ä‰∏™Êï¥Êï∞ÔºåÂç≥ r*r* ËΩÆÊØîËµõÁªìÊùüÂêéÔºåÊéíÂêçÁ¨¨ q*q* ÁöÑÈÄâÊâãÁöÑÁºñÂè∑„ÄÇ
>
> # Samples
>
> #### Ê†∑‰æãËæìÂÖ•
>
> ```none
> 2 4 2 
> 7 6 6 7 
> 10 5 20 15
> ```
>
> [Copy](javascript:;)
>
> #### Ê†∑‰æãËæìÂá∫
>
> ```none
> 1
> ```
>
> [Copy](javascript:;)
>
> # Limitation
>
> 1‚â§n‚â§1051‚â§*n*‚â§105Ôºå1‚â§r‚â§3001‚â§*r*‚â§300Ôºå 1‚â§q‚â§2n1‚â§*q*‚â§2*n*Ôºå 0‚â§s1,s2,‚Ä¶,s2n‚â§1080‚â§*s*1,*s*2,‚Ä¶,*s*2*n*‚â§108Ôºå1‚â§w1,w2,‚Ä¶,w2n‚â§1081‚â§*w*1,*w*2,‚Ä¶,*w*2*n*‚â§108„ÄÇ

```c++
#include <iostream>
#include <algorithm>
using namespace std;
const int MAXN = 250007;
struct Player {
    int score, power, id;
    bool operator<(const Player& other) const {
        if (score == other.score) {
            return id < other.id; 
        }
        return score > other.score; 
    }
};

int n, rounds, q;
Player players[MAXN], tempPlayers[MAXN];
int winners[MAXN], losers[MAXN];

bool cmp(const Player &a, const Player &b) {
    return a<b;
}

void mergePlayers() {
    int l = 1, r = 1, mergedCount = 0;
   
    while (l <= n/2 && r <= n/2) {
        if (players[winners[l]] < players[losers[r]]) {
            tempPlayers[++mergedCount] = players[winners[l++]];
        } else {
            tempPlayers[++mergedCount] = players[losers[r++]];
        }
    }
    while (l <= n/2) tempPlayers[++mergedCount] = players[winners[l++]];
    while (r <= n/2) tempPlayers[++mergedCount] = players[losers[r++]];

    
    for (int i = 1; i <= n; ++i) {
        players[i] = tempPlayers[i];
    }
}

int main() {
    ios_base::sync_with_stdio(false);
    cin.tie(0);
    cout.tie(0);
    cin >> n;  
    n *= 2;  
    cin >> rounds >> q;  

    for (int i = 1; i <= n; ++i) {
        cin >> players[i].score;
        players[i].id = i; 
    }

    for (int i = 1; i <= n; ++i) {
        cin >> players[i].power;
    }

    sort(players+1 , players + n +1 ,cmp);

    for (int i = 0; i < rounds; ++i) {
        int winCount = 0, loseCount = 0;
        
        for (int j = 1; j <= n; j += 2) {
            if (players[j].power > players[j + 1].power) {
                winners[++winCount] = j;
                losers[++loseCount] = j + 1;
            } else {
                winners[++winCount] = j + 1;
                losers[++loseCount] = j;
            }
            players[winners[winCount]].score++; 
        }

        mergePlayers();
    }

    cout << players[q].id << endl;

    return 0;
}

```



## Âø´ÈÄüÁü©Èòµ‰πòÊ≥ï

> # È¢òÁõÆÊèèËø∞
>
> ÁªôÂÆö n,a,b,c*n*,*a*,*b*,*c* Âíå f0,f1*f*0,*f*1ÔºåÂ∑≤Áü•ÈÄíÊé®Âºè
>
> fi=a‚ãÖfi‚àí1+b‚ãÖfi‚àí2+c*f**i*=*a*‚ãÖ*f**i*‚àí1+*b*‚ãÖ*f**i*‚àí2+*c*
>
> Ê±Ç fn mod (109+7)*f**n* mod (109+7)„ÄÇ
>
> # ËæìÂÖ•ËæìÂá∫Ê†ºÂºè
>
> ## ËæìÂÖ•Ê†ºÂºè
>
> ÂÖ≠‰∏™Êï∞ÂàÜÂà´Ë°®Á§∫ n,a,b,c,f0,f1*n*,*a*,*b*,*c*,*f*0,*f*1„ÄÇ
>
> ## ËæìÂá∫Ê†ºÂºè
>
> ‰∏Ä‰∏™Êï∞Ë°®Á§∫ fn mod (109+7)*f**n* mod (109+7)
>
> # Ê†∑‰æã
>
> ## ËæìÂÖ•Êï∞ÊçÆ 1
>
> ```input1
> 7 1 1 0 1 1
> ```
>
> [Copy](javascript:;)
>
> ## ËæìÂá∫Êï∞ÊçÆ 1
>
> ```output1
> 21
> ```
>
> [Copy](javascript:;)
>
> # Êï∞ÊçÆËåÉÂõ¥
>
> 1‚â§n‚â§10181‚â§*n*‚â§1018Ôºå1‚â§a,b,c,f0,f1<109+71‚â§*a*,*b*,*c*,*f*0,*f*1<109+7„ÄÇ

```c++
#include <iostream>
#include <vector>

using namespace std;
const int MOD = 1e9 + 7;

vector<vector<long long>> matrixMul(const vector<vector<long long>>& A, const vector<vector<long long>>& B) {
    int n = A.size();
    vector<vector<long long>> C(n, vector<long long>(n, 0));
    for (int i = 0; i < n; ++i) {
        for (int j = 0; j < n; ++j) {
            for (int k = 0; k < n; ++k) {
                C[i][j] = (C[i][j] + A[i][k] * B[k][j]) % MOD;
            }
        }
    }
    return C;
}

vector<vector<long long>> matrixPow(vector<vector<long long>> base, long long exp) {
    int n = base.size();
    vector<vector<long long>> res(n, vector<long long>(n, 0));

    for (int i = 0; i < n; ++i) res[i][i] = 1;
    
    while (exp > 0) {
        if (exp % 2 == 1) {
            res = matrixMul(res, base);
        }
        base = matrixMul(base, base);
        exp /= 2;
    }
    return res;
}

int main() {
    long long n, a, b, c, f0, f1;
    cin >> n >> a >> b >> c >> f0 >> f1;

    if (n == 0) {
        cout << f0 % MOD << endl;
        return 0;
    }
    if (n == 1) {
        cout << f1 % MOD << endl;
        return 0;
    }
    

    vector<vector<long long>> T = {
        {a, b, c},
        {1, 0, 0},
        {0, 0, 1}
    };
    
    vector<vector<long long>> Tn = matrixPow(T, n - 1);
    long long fn = (Tn[0][0] * f1 + Tn[0][1] * f0 + Tn[0][2]) % MOD;
    cout << fn << endl;
    return 0;
}

```



## ‰Ω†ÁæéËøòÊòØÊàëÁæé

> # Description
>
> ‚ÄúüçíŒ£ÔºÅÔºÅÔºÅÔºÅ‚Äù
>
> Y Áúã‰∫Ü B Á´ôÁöÑÊäΩË±°ËßÜÈ¢ëÔºåÊÑüÂà∞ÈùûÂ∏∏ÂºÄÂøÉ„ÄÇÊâÄ‰ª•‰ªñÂÜ≥ÂÆö‰∏æÂäûÁæé‰∏ΩÂÄºÂØπÊäóËµõÊù•Ë∞ÉÂâÇÂêåÂ≠¶‰ª¨ÊûØÁá•ÁöÑÂÜõËÆ≠ÁîüÊ¥ª„ÄÇ
>
> Â∑≤Áü•ÂêåÂ≠¶ÂàÜÊàê‰∏§ÁªÑÔºåÁæé‰∏ΩÂÄºÂàÜÂà´‰∏∫ a1,a2,‚ãØ‚Äâ,an*a*1,*a*2,‚ãØ,*a**n* Âíå b1,b2,‚ãØ‚Äâ,bm*b*1,*b*2,‚ãØ,*b**m*„ÄÇ
>
> Áæé‰∏ΩÂÄº‰∏∫ x*x* Âíå y*y* ÁöÑ‰∏§ÂêçÂêåÂ≠¶ËøõË°åÂØπÊäó‰ºö‰∫ßÁîü ‚à£x‚àíy‚à£‚à£*x*‚àí*y*‚à£ È¢óÁæé‰∏ΩÁà±ÂøÉÔºåÊ±Ç‰∏§ÁªÑÂêåÂ≠¶‰∏§‰∏§ÂØπÊäóËÉΩ‰∫ßÁîüÂ§öÂ∞ëÁæé‰∏ΩÁà±ÂøÉ„ÄÇÂç≥Ê±Ç
>
> ‚àëi=1n‚àëj=1m‚à£ai‚àíbj‚à£*i*=1‚àë*n**j*=1‚àë*m*‚à£*a**i*‚àí*b**j*‚à£
>
> # Format
>
> ## Input
>
> Á¨¨‰∏ÄË°å‰∏§‰∏™Êï¥Êï∞ n,m*n*,*m* ÂàÜÂà´Ë°®Á§∫‰∏§ÁªÑÂêåÂ≠¶ÁöÑÊï∞Èáè„ÄÇ
>
> Á¨¨‰∫åË°å n*n* ‰∏™Ê≠£Êï¥Êï∞Ë°®Á§∫ a1,a2,‚ãØ‚Äâ,an*a*1,*a*2,‚ãØ,*a**n*„ÄÇ
>
> Á¨¨‰∏âË°å m*m* ‰∏™Ê≠£Êï¥Êï∞Ë°®Á§∫ b1,b2,‚ãØ‚Äâ,bm*b*1,*b*2,‚ãØ,*b**m*„ÄÇ
>
> ## Output
>
> ‰∏ÄË°å‰∏Ä‰∏™Êï∞Ë°®Á§∫Áæé‰∏ΩÁà±ÂøÉÊï∞Èáè„ÄÇ
>
> # Samples
>
> #### ËæìÂÖ•Ê†∑‰æã
>
> ```none
> 3 2
> 1 2 3
> 1 10
> ```
>
> [Copy](javascript:;)
>
> #### ËæìÂá∫Ê†∑‰æã
>
> ```none
> 27
> ```
>
> [Copy](javascript:;)
>
> # Limitation
>
> 1‚â§n,m‚â§2√ó1051‚â§*n*,*m*‚â§2√ó105Ôºå1‚â§ai,bi‚â§1081‚â§*a**i*,*b**i*‚â§108„ÄÇ

```c++
#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

typedef long long ll;


int main() {
    int n, m;
    cin >> n >> m;

    vector<ll> a(n), b(m);
    for (int i = 0; i < n; ++i) cin >> a[i];
    for (int i = 0; i < m; ++i) cin >> b[i];

    sort(a.begin(), a.end());
    sort(b.begin(), b.end());

    vector<ll> prefixA(n);
    prefixA[0] = a[0];
    for (int i = 1; i < n; ++i) {
        prefixA[i] = prefixA[i - 1] + a[i];
    }

    ll totalLove = 0;

    for (int j = 0; j < m; ++j) {
        ll bj = b[j];
        
        int pos = upper_bound(a.begin(), a.end(), bj) - a.begin();


        ll sumLeft;
        if(pos-1<0)sumLeft=0;
        else  sumLeft = prefixA[pos-1];
        ll countLeft = pos;
        totalLove += (bj * countLeft - sumLeft);

        ll sumRight;
        sumRight = prefixA[n-1] - sumLeft;
        ll countRight = n - countLeft; 
        totalLove += (sumRight - bj * countRight) ;
    }

    cout << totalLove  << endl;

    return 0;
}

```

